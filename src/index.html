<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lofi Study Room</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Home Page -->
    <div class="page active" id="homePage">
        <div class="home-content">
            <h1 class="title">Study Room</h1>
            <p class="subtitle">It's time to lock in</p>
            <button class="main-timer-btn" onclick="showPage('timer')">
                Go To Timer
            </button>
            <div style="margin-top: 20px;">
    <button id="google-signin">Sign in with Google</button>
    <button id="logout" style="display:none;">Log Out</button>
</div>
        </div>
    </div>

    <!-- Timer Page -->
    <div class="page" id="timerPage">
        <button class="back-btn" onclick="showPage('home')">‚Üê back</button>
        <div class="timer-content">
            <h2 style="font-size: 2rem; margin-bottom: 20px; color: rgba(255,255,255,0.8);">focus session</h2>
            <div class="timer-display" id="timerDisplay">25:00</div>
            <div class="timer-status" id="timerStatus">ready to focus</div>
            <div class="timer-controls">
                <button class="timer-btn" id="startBtn">start</button>
                <button class="timer-btn" id="pauseBtn">pause</button>
                <button class="timer-btn" id="resetBtn">reset</button>
            </div>
        </div>
    </div>

    <!-- Study Buddy Page (right side) -->
    <div class="page" id="buddyPage">
        <!--<button class="back-btn" onclick="showPage('home')">‚Üê back</button> -->
            <a href="buddy.html" class="side-nav right-nav">
                <span class="nav-text">Study Buddy</span>
                <span class="nav-arrow">
                    <!-- SVG icon goes here -->
                    <svg xmlns="http://www.w3.org/2000/svg" height="32px" viewBox="0 -960 960 960" width="32px" fill="#e3e3e3">
                        <path d="m560-242-43-42 168-168H160v-60h525L516-681l43-42 241 241-240 240Z"/>
                    </svg>
                </span>
            </a>
        <div class="study-content">
            <h2>find your study buddy</h2>
            <p style="text-align: center; color: rgba(255,255,255,0.7); font-size: 1.1rem; margin-bottom: 30px;">
                connect with like-minded learners around the world
            </p>
            
            <div class="feature-grid">
                <div class="feature-card">
                    <h3>üåç global community</h3>
                    <p>Join study rooms with people from different time zones and cultures. Share knowledge and motivation across borders.</p>
                </div>
                
                <div class="feature-card">
                    <h3>üìö subject matching</h3>
                    <p>Find study partners who are learning the same subjects. Create focused group sessions for maximum productivity.</p>
                </div>
                
                <div class="feature-card">
                    <h3>‚è∞ sync sessions</h3>
                    <p>Coordinate study times with your buddies. Set up recurring sessions and keep each other accountable.</p>
                </div>
                
                <div class="feature-card">
                    <h3>üí¨ quiet chat</h3>
                    <p>Minimal distraction messaging for quick questions and encouragement without breaking your flow state.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Study Spots Page (left side)-->
    <div class="page" id="spotsPage">
        <button class="back-btn" onclick="showPage('home')">‚Üê back</button>
        <div class="study-content">
            <h2>discover study spots</h2>
            <p style="text-align: center; color: rgba(255,255,255,0.7); font-size: 1.1rem; margin-bottom: 30px;">
                find the perfect environment for your learning style
            </p>
            
            <div class="feature-grid">
                <div class="feature-card">
                    <h3>‚òï cozy caf√©s</h3>
                    <p>Discover local coffee shops with study-friendly vibes, good wifi, and the perfect amount of ambient noise.</p>
                </div>
                
                <div class="feature-card">
                    <h3>üìñ quiet libraries</h3>
                    <p>Find libraries with extended hours, private study rooms, and resources tailored to your academic needs.</p>
                </div>
                
                <div class="feature-card">
                    <h3>üå≥ outdoor spaces</h3>
                    <p>Explore parks, gardens, and outdoor areas perfect for reading and light studying in natural settings.</p>
                </div>
                
                <div class="feature-card">
                    <h3>üè¢ co-working spaces</h3>
                    <p>Access professional environments with dedicated study areas, meeting rooms, and productivity-focused communities.</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Page navigation
        function showPage(pageName) {
            // Hide all pages
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            // Show selected page
            if (pageName === 'home') {
                document.getElementById('homePage').classList.add('active');
            } else if (pageName === 'timer') {
                document.getElementById('timerPage').classList.add('active');
            } else if (pageName === 'buddy') {
                document.getElementById('buddyPage').classList.add('active');
            } else if (pageName === 'spots') {
                document.getElementById('spotsPage').classList.add('active');
            }
        }

        // Timer functionality
        let timerState = {
            minutes: 25,
            seconds: 0,
            isRunning: false,
            totalTime: 25 * 60,
            currentTime: 25 * 60
        };

        let timerInterval;

        function updateTimerDisplay() {
            const display = document.getElementById('timerDisplay');
            const status = document.getElementById('timerStatus');
            
            display.textContent = `${timerState.minutes.toString().padStart(2, '0')}:${timerState.seconds.toString().padStart(2, '0')}`;
            
            if (timerState.isRunning) {
                status.textContent = 'deep focus mode';
            } else {
                status.textContent = timerState.currentTime === timerState.totalTime ? 'ready to focus' : 'paused';
            }
        }

        function startTimer() {
            if (!timerState.isRunning && (timerState.minutes > 0 || timerState.seconds > 0)) {
                timerState.isRunning = true;
                timerInterval = setInterval(() => {
                    if (timerState.seconds === 0) {
                        if (timerState.minutes === 0) {
                            // Timer finished
                            timerState.isRunning = false;
                            clearInterval(timerInterval);
                            document.getElementById('timerStatus').textContent = 'session complete! ‚ú®';
                            return;
                        }
                        timerState.minutes--;
                        timerState.seconds = 59;
                    } else {
                        timerState.seconds--;
                    }
                    timerState.currentTime = timerState.minutes * 60 + timerState.seconds;
                    updateTimerDisplay();
                }, 1000);
                updateTimerDisplay();
            }
        }

        function pauseTimer() {
            timerState.isRunning = false;
            clearInterval(timerInterval);
            updateTimerDisplay();
        }

        function resetTimer() {
            timerState.isRunning = false;
            timerState.minutes = 25;
            timerState.seconds = 0;
            timerState.currentTime = timerState.totalTime;
            clearInterval(timerInterval);
            updateTimerDisplay();
        }

        // Event listeners
        document.getElementById('startBtn').addEventListener('click', startTimer);
        document.getElementById('pauseBtn').addEventListener('click', pauseTimer);
        document.getElementById('resetBtn').addEventListener('click', resetTimer);

        // Initialize
        updateTimerDisplay();
    </script>
    <script type="module" src="./auth.js"></script>
</body>
</html>